<div class="container p-2 my-4">
<div class="d-flex flex-row justify-content-between">
  <h3>Subjects</h3>
</div>
</div>
<table class="table">
  <thead>
    <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">code</th>
            <th scope="col">Semester_id</th>
            <th scope="col">Total_marks</th>
            <th scope="col">Actions</th>
    </tr>
  </thead>

  </table>
  <tbody>
    <ng-container *ngFor="let subject of subjects">
      <tr>
        <th scope="row">{{subject.id}}</th>
        <td>{{subject.name}}</td>
        <td>{{subject.code}}</td>
        <td>{{subject.Semester_id}}</td>
        <td>{{subject.Total_marks}}</td>
        <td class="d-flex flex-row">
          <i class="bi bi-pencil-fill" (click)="openEditSubjectsModal(subject, subjectModal)"></i>
          <i class="bi bi-trash3-fill mx-4" (click)="openDeleteSubjectsModal(subject, ['deleteSubjectModal'])"></i>
        </td>
      </tr>
    </ng-container>
  </tbody>

<ngb-pagination [(page)]="page" [pageSize]="pageSize" [collectionSize]="['Subjects'].length"></ngb-pagination>
<div>
<ng-container *ngIf="['!Subjects']" #no_subjects_found>
<h5 class="mt-4 pt-4">
  No Subject found.
</h5>
</ng-container>

</div>

<!-- Add Subject Modal -->
<ng-template #subjectModal let-subjectsmodal>
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="subjectModalLabel">Add Subject</h5>
      <div class="fs-5" aria-label="Close" (click)="subjectModal">
        <i class="bi bi-x-circle"></i>
      </div>
    </div>
    <div class="modal-body">
      <form []="subjectForm">
        <div class="form-group">
          <label for="subjectName">Subject Name</label>
          <input id="subjectName" type="text" class="form-control" placeholder="Subject Name" aria-label="Subject Name"
            aria-describedby="basic-addon1" formControlName="subject name">
        </div>
        <div class="form-group mt-2">
          <label for="Marks"></label>
          <input type="number" class="form-control" id="Marks" placeholder="Marks"
            formControlName="Marks">
        </div>
     
        <div class="form-group mt-2">
          <label for="subjectCode">Code</label>
          <input type="text" class="form-control" id="subjectCode" placeholder="Code" disabled>
        </div>
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-secondary btn-sm" (click)="['subjecthmodal']">Cancel</button>
      <button type="button" class="btn btn-outline-dark btn-sm"
        (click)="actionType  === 'add' ? ['createsubjects'] : ['updatesubjects']">Save</button>
    </div>
  </div>
</ng-template>

<!-- Delete Subject Confirmation Modal -->
<ng-template #deleteSubjectModal let-deletesubjectmodal>
  <div class="modal-content">
    <div class="modal-header">
      <h5 class="modal-title" id="deleteSubjectModalLabel">Confirmation</h5>
      <div class="fs-5" aria-label="Close" (click)="['deleteSubjectsmodal']">
        <i class="bi bi-x-circle"></i>
      </div>
    </div>
    <div class="modal-body">
      <form>
        Are you sure, you want to delete this subject?
      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-outline-secondary btn-sm" (click)="deletesubjectmodal.dismiss()">No</button>
      <button type="button" class="btn btn-outline-dark btn-sm" (click)="deletesubjectmodal.close()">Yes</button>
    </div>
  </div>
</ng-template>